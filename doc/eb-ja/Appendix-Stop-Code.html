<html lang="en">
<head>
<title>EB Library</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="EB Library">
<meta name="generator" content="makeinfo 4.5">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<div class="node">
<p>
ノード:<a name="Appendix%20Stop%20Code">Appendix Stop Code</a>,
次:<a rel="next" accesskey="n" href="Appendix-Alternation-Text.html#Appendix%20Alternation%20Text">Appendix Alternation Text</a>,
前:<a rel="previous" accesskey="p" href="Appendix-Subbook.html#Appendix%20Subbook">Appendix Subbook</a>,
上:<a rel="up" accesskey="u" href="Appendix-Data.html#Appendix%20Data">Appendix Data</a>
<hr><br>
</div>

<h3 class="section">本文の区切りコード</h3>

   <p>CD-ROM 書籍によっては、EB ライブラリが本文の表示を正しい位置で止められない
ことがあります
(詳しくは、see <a href="Stop-Code-Issue.html#Stop%20Code%20Issue">区切りコードの問題</a>)。
これは、本文の区切りコードの推測を EB ライブラリが誤ったために起こる
のですが、appendix データを使うことで、正しい区切りコードを EB ライブラリ
に教えてやることができます。

   <p>CD-ROM 書籍の本文を取得する関数 <code>eb_read_text()</code> は第 2 引数に
<code>EB_Appendix *</code> をとるのですが、ここに appendix オブジェクトを
渡してやるようにします。

<pre class="example">     /* <code>book</code>, <code>app</code> は、それぞれ <code>EB_Book</code> および
      * <code>EB_Appendix</code> のオブジェクトで、どちらもすでに副本を選択中と
      * 仮定しています。*/
     #define MAX_LENGTH 1000
     char buffer[MAX_LENGTH + 1];
     ssize_t text_length;
     
     if (eb_read_text(&amp;book, &amp;app, NULL, NULL, MAX_LENGTH,
         text, &amp;text_length) != EB_SUCCESS) {
         fprintf(stderr, "an error occurs.\n");
         return;
     }
     </pre>

<p><code>eb_read_text()</code> は、渡された appendix オブジェクトが副本を選択済み
で、かつ区切りコードの情報を持っていれば、その区切りコードを使用します。

   </body></html>

