<html lang="en">
<head>
<title>ebzip</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name=description content="ebzip">
<meta name=generator content="makeinfo 4.2">
<link href="http://www.gnu.org/software/texinfo/" rel=generator-home>
</head>
<body>
<p>
Node:<a name="Header%20Part">Header Part</a>,
Previous:<a rel=previous accesskey=p href="Index-Part.html#Index%20Part">Index Part</a>,
Up:<a rel=up accesskey=u href="Compressed-File-Format.html#Compressed%20File%20Format">Compressed File Format</a>
<hr><br>

<h3>Header Part</h3>

<p>A header part occupies 22 bytes. 
It consists of the following fields.

<br><pre>+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
|   magic ID   |*1| *2  |    file size    | Adler-32  |   mtime   |
+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
 0  1  2  3  4  5  6  7  8  9  10 11 12 13 14 15 16 17 18 19 20 21

*1: zip mode and compression level
*2: reserved area
</pre>

<dl>
<dt><code>magic ID (5 bytes)</code>
<dd>It has the fixed value; 0x45, 0x42, 0x5a, 0x69, 0x70 (<code>EBZip</code>
in ASCII string).

<br><dt><code>zip mode (4 bits of the most significant bit side)</code>
<dd>This identifies the compression mode. 
In EB Library version 4.0, only 1 (0001 in binary digits)
can be prescribed as this version.

<br><dt><code>compression level (4 bits of the least-significant-bit side)</code>
<dd>This identifies the compression level.

<br><dt><code>reserved area (2 bytes)</code>
<dd>Reserved but not used. 
It is filled with 0x0000.

<br><dt><code>file size (6 bytes)</code>
<dd>This contains the size of the original (uncompressed) file.

<br><dt><code>Adler-32 (4 bytes)</code>
<dd>This is a checksum value of the uncompressed data computed according
to Adler-32 algorithm described in RFC 1950.

<br><dt><code>mtime (4 bytes)</code>
<dd>This gives the most recent modification time of the original file. 
This value is the time in seconds since 00:00:00 GMT, Jan. 1, 1970. 
</dl>

<p>Both <code>zip mode</code> and <code>compression level</code> are packed into
the 5th byte in the header. 
<code>zip mode</code> includes a most siginificant bit, and
<code>compression level</code> includes least-significant-bit. 
If <code>zip mode</code> is 1 and <code>compression level</code> is 2, then
5th byte of the header is 0x12.

<br><pre> MSB                         LSB
+---+---+---+---+---+---+---+---+
| 0   0   0   1   0   0   1   0 | = 0x12
+---+---+---+---+---+---+---+---+
   (zip mode)   | (compression level)
</pre>

<p>All multi-byte numbers in the header are stored with the most
significant byte first.


<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Introduction"></a>
    <a href="Introduction.html#Introduction">Introduction</a>
<li><a name="toc_Action%20and%20Command%20Name"></a>
    <a href="Action-and-Command-Name.html#Action%20and%20Command%20Name">Action and Command Name</a>
<li><a name="toc_Invoke%20ebzip"></a>
    <a href="Invoke-ebzip.html#Invoke%20ebzip">Invoke <code>ebzip</code></a>
<li><a name="toc_Compression"></a>
    <a href="Compression.html#Compression">Compression</a>
<ul>
<li><a href="Compression-Example-1.html#Compression%20Example%201">Example of Compression (1)</a>
<li><a href="Compression-Example-2.html#Compression%20Example%202">Example of Compression (2)</a>
<li><a href="Compression-Level.html#Compression%20Level">Compression Level</a>
<li><a href="Test.html#Test">Test</a>
<li><a href="Partial-Compression.html#Partial%20Compression">Partial Compression</a>
<li><a href="Overwrite-Old-Files.html#Overwrite%20Old%20Files">Overwrite Old Files</a>
<li><a href="Compress-Compressed-Book.html#Compress%20Compressed%20Book">Compress Compressed Book</a>
</ul>
<li><a name="toc_Uncompression"></a>
    <a href="Uncompression.html#Uncompression">Uncompression</a>
<ul>
<li><a href="Uncompression-Example.html#Uncompression%20Example">Example of Uncompression</a>
<li><a href="Options-for-Uncompression.html#Options%20for%20Uncompression">Options for Uncompression</a>
<li><a href="Uncompress-Compressed-Book.html#Uncompress%20Compressed%20Book">Uncompress Compressed Book</a>
</ul>
<li><a name="toc_Information"></a>
    <a href="Information.html#Information">Information</a>
<ul>
<li><a href="Information-Example.html#Information%20Example">Example of Information</a>
<li><a href="Options-for-Information.html#Options%20for%20Information">Options for Information</a>
</ul>
<li><a name="toc_Delete%20a%20Book"></a>
    <a href="Delete-a-Book.html#Delete%20a%20Book">Delete a Book</a>
<li><a name="toc_Summary%20of%20Options"></a>
    <a href="Summary-of-Options.html#Summary%20of%20Options">Summary of <code>ebzip</code> Options</a>
<li><a name="toc_Comparision%20Result"></a>
    <a href="Comparision-Result.html#Comparision%20Result">Comparision of Compression Results</a>
<li><a name="toc_Compressed%20File%20Format"></a>
    <a href="Compressed-File-Format.html#Compressed%20File%20Format">Compressed File Format</a>
<ul>
<li><a href="Format-Overview.html#Format%20Overview">Overview about Compression File Format</a>
<li><a href="Data-Part.html#Data%20Part">Data Part</a>
<li><a href="Index-Part.html#Index%20Part">Index Part</a>
<li><a href="Header-Part.html#Header%20Part">Header Part</a>
</ul>
</ul>

</body></html>

