<html lang="en">
<head>
<title>ebappendix</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="ebappendix">
<meta name="generator" content="makeinfo 4.5">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home">
</head>
<body>
<div class="node">
<p>
ノード:<a name="Merge%20Appendix">Merge Appendix</a>,
次:<a rel="next" accesskey="n" href="Options-to-ebappendix.html#Options%20to%20ebappendix">Options to ebappendix</a>,
前:<a rel="previous" accesskey="p" href="Invoke-ebappendix.html#Invoke%20ebappendix">Invoke ebappendix</a>,
上:<a rel="up" accesskey="u" href="Generate-Appendix.html#Generate%20Appendix">Generate Appendix</a>
<hr><br>
</div>

<h3 class="section">appendix と CD-ROM 書籍の重ね合わせ</h3>

   <p>HDD 上にコピーした CD-ROM 書籍と同じディレクトリに、appendix を重ねて
置くことができます。

   <p>これには、<code>ebappendix</code> の <code>--output-directory</code> と
<code>--no-catalog</code> オプションを使います。
<code>--output-directory</code> オプションには、CD-ROM 書籍のトップディレクトリ
を指定します。

<pre class="example">     % ebappendix --no-catalog --output-directory <var>出力ディレクトリのパス</var> \
       <var>入力ディレクトリのパス</var>
     </pre>

   <p>なお、appendix の形式 (電子ブックか EPWING か) は CD-ROM 書籍に合わせる
ようにします
(詳しくは see <a href="Write-catalog.app.html#Write%20catalog.app"><code>catalog(s).app</code> の書き方</a>)。

   <p><code>ebappendix</code> の実行前後で CD-ROM 書籍のディレクトリ構成がどのように
変化するのか、例を記してみます。
まず電子ブックの場合ですが、実行前のディレクトリ構成が次のように
なっていたとします。

<pre class="example">     catalog
     ejdict/start
     howto/start
     </pre>

<p><code>ebappendix</code> で appendix を重ね合わせると、次のような構成に
なります。

<pre class="example">     catalog
     ejdict/start
     ejdict/appendix  ← appendix のファイル
     howto/start
     howto/appendix   ← appendix のファイル
     </pre>

   <p>同様に、EPWING で実行前のディレクトリ構成が次のようになっていたと
すると、

<pre class="example">     catalogs
     ejdict/data/honmon
     howto/data/honmon
     </pre>

<p>実行後は、次のような構成になります。

<pre class="example">     catalogs
     ejdict/data/honmon
     ejdict/data/furoku  ← appendix のファイル
     howto/data/honmon
     howto/data/furoku   ← appendix のファイル
     </pre>

   <p>CD-ROM 書籍によっては、ディレクトリ名に大文字が混じっていることが
ありますが、<code>ebappendix</code> はそれを検出しますので、名前を小文字に
変えたディレクトリを別途作ってしまうことはありません。

   <p><code>--no-catalog</code> オプションを指定すると、<code>ebappendix</code> は
カタログファイル <code>catalog</code> や <code>catalogs</code> ファイルを生成しなく
なります。
この appendix を EB ライブラリのアプリケーションから使う際は、
CD-ROM 書籍に最初から用意されている <code>catalog</code> や <code>catalogs</code>
ファイルを CD-ROM 書籍、appendix 共用のカタログファイルとして流用する
ことになります。

   <p>appendix のカタログファイルは、CD-ROM 書籍のカタログファイルの部分集合
となっているため、こうした事が可能となっています。
<code>--no-catalog</code> オプションを指定し忘れると、<code>ebappendix</code> は
CD-ROM 書籍のカタログファイルを上書きしてしまいますので、注意して下さい。

   </body></html>

